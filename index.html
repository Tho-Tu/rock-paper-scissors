<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function getComputerChoice() {
            // Selects random choice for the computer 
            const randomNumber = Math.floor(Math.random() * 3) + 1;
            let computerChoice = '';

            if (randomNumber === 1) {
                computerChoice = 'rock';
            }
            else if (randomNumber === 2) {
                computerChoice = 'paper';
            }
            else {
                computerChoice = 'scissors';
            }

            console.log('computer: ' + computerChoice);

            return computerChoice;
            
        }

        function getPlayerChoice() {
            // prompts player to choose between rock, paper or scissors
            let keepGoing = true;
            while (keepGoing) {
                let playerChoice = prompt('Choose between rock, paper or scissors: ', '').toLowerCase();
                if ((playerChoice === 'rock') || (playerChoice === 'paper') || (playerChoice === 'scissors')) {
                    console.log('player: ' + playerChoice);
                    keepGoing = false;
                    return playerChoice;
                }
                else {
                    alert('Please type an appropriate response');
                }
            }

            
        }

        function playRound(playerSelection, computerSelection) {
            // determines if draw, win or lose 
            let playerWinOrLose = false;

            if (playerSelection === computerSelection) {
                console.log('Match Draw!')
                return;
            }
            
            switch (playerSelection) {
                case 'rock':
                    if (computerSelection === 'scissors') {
                        playerWinOrLose = true;
                    }
                    break;
                case 'paper':
                    if (computerSelection === 'rock') {
                        playerWinOrLose = true;
                    }
                    break;
                case 'scissors': 
                    if (computerSelection === 'paper') {
                        playerWinOrLose = true;
                    }
                    break;
                }
            
            winnerLoser(playerSelection, computerSelection, playerWinOrLose);
        }

        function winnerLoser(playerSelection, computerSelection, playerWinOrLose) {
            // prints out if player won or lost 
            if (playerWinOrLose === true) {
                console.log(`Player wins! ${playerSelection.toUpperCase()} beats ${computerSelection.toUpperCase()}!`);
            }
            else {
                console.log(`Computer wins! ${computerSelection.toUpperCase()} beats ${playerSelection.toUpperCase()}!`);
            }
        }

        const playerSelection = getPlayerChoice();
        const computerSelection = getComputerChoice();

        console.log(playRound(playerSelection, computerSelection));

        function game() {
        //     plays the game 
        //     keeps score. first to 5 will win. 
        }

    </script>
</body>
</html>